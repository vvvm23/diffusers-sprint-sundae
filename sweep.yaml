name: diffusers-sprint-sundae
description: Unconditional model sweeping for testing
program: main.py
method: random
early_terminate:
  type: hyperband
  min_iter: 3
metric:
  name: eval.loss
  goal: minimize
parameters:
  config: 
    value: sundae/configs/text_to_image.py
  config.train_fn:
    value: text_to_image
  config.enable_checkpointing:
    value: false

  config.batch_size:
    distribution: constant
    value: 64

  config.training.steps:
    distribution: constant
    value: 12000
  config.training.warmup_steps:
    distribution: constant
    value: 2000
  config.training.unroll_steps:
    distribution: constant
    value: 2
  config.training.end_learning_rate_scale:
    distribution: constant
    value: 100
  config.training.weight_decay:
    distribution: constant
    value: 0.0
  config.training.conditioning_dropout:
    distribution: constant
    value: 0.2

  config.training.learning_rate:
    distribution: categorical
    values: [0.0005, 0.0001, 0.001]

  config.model.shorten_factor:
    distribution: constant
    value: 4
  config.model.dim:
    distribution: constant
    value: 1024
  config.model.parallel_block:
    distribution: constant
    value: false
  config.model.heads:
    distribution: constant
    value: 16

  config.model.dim:
    distribution: categorical:
    value: [1024, 2048]

  config.model.depth:
    distribution: categorical
    values: [(2, 10, 2), (3, 8, 3), (4, 6, 4)]